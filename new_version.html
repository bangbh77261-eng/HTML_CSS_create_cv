<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Professional CV Editor</title>

<!--
  Google Fonts ‚Äî all choices below support Vietnamese.
  Outfit   : modern geometric heading font
  Nunito Sans : humanist body font, excellent Vietnamese coverage
  Plus Jakarta Sans : alternative clean sans
  DM Sans  : clean, contemporary
  Sora     : sharp, professional
  Libre Baskerville : elegant serif option
  Playfair Display  : luxury serif
  Cormorant Garamond: refined editorial serif
-->
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Nunito+Sans:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&family=Sora:wght@300;400;500;600;700&family=Libre+Baskerville:wght@400;700&family=Playfair+Display:wght@400;500;600;700&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
/* ================================================================
   CSS VARIABLES ‚Äî single source of truth for the entire CV.
   JS changes --font-heading / --font-body on document.documentElement
   and everything cascades automatically.
   ================================================================ */
:root {
    --font-heading : 'Outfit', sans-serif;
    --font-body    : 'Nunito Sans', sans-serif;

    /* ‚îÄ‚îÄ size scale ‚îÄ‚îÄ */
    --sz-name      : 28px;
    --sz-job-title : 14px;
    --sz-contact   : 11.5px;

    --sz-main-title: 16px;
    --sz-side-title: 12.5px;

    --sz-tl-title  : 13.5px;
    --sz-tl-sub    : 11.5px;
    --sz-tl-date   : 10.5px;
    --sz-tl-desc   : 11.5px;

    --sz-about     : 11.5px;
    --sz-skill     : 11.5px;
    --sz-info      : 11.5px;

    /* ‚îÄ‚îÄ weights ‚îÄ‚îÄ */
    --w-bold  : 700;
    --w-semi  : 600;
    --w-med   : 500;
    --w-reg   : 400;
    --w-light : 300;

    /* ‚îÄ‚îÄ palette ‚îÄ‚îÄ */
    --clr-primary   : #2d3561;
    --clr-accent    : #4a5899;
    --clr-accent-lt : #6c7ac9;
    --clr-muted     : #6c757d;
    --clr-text      : #495057;
    --clr-text-dark : #212529;
    --clr-border    : #e9ecef;
    --clr-bg-light  : #f8f9fa;

    /* ‚îÄ‚îÄ delete-btn size (used for padding calculations) ‚îÄ‚îÄ */
    --del-btn-w : 22px;
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
    font-family: var(--font-body);
    background : var(--clr-bg-light);
    padding    : 15px 20px;
    line-height: 1.4;
}

/* ================================================================
   CV WRAPPER
   ================================================================ */
.cv-wrapper {
    max-width : 210mm;
    margin    : 0 auto;
    background: #fff;
    box-shadow: 0 0 40px rgba(0,0,0,.1);
}

/* ================================================================
   HEADER
   ================================================================ */
.cv-header {
    background: linear-gradient(135deg, var(--clr-primary), var(--clr-accent));
    padding   : 34px 46px;
    position  : relative;
    overflow  : hidden;
}
.cv-header::before {
    content   : '';
    position  : absolute;
    top:-50%; right:-10%;
    width:400px; height:400px;
    background: rgba(255,255,255,.05);
    border-radius: 50%;
    pointer-events: none;
}
.header-content {
    display   : flex;
    align-items: center;
    gap       : 14px;
    position  : relative;
    z-index   : 1;
}

/* profile photo */
.profile-photo {
    width:94px; height:94px;
    border-radius: 50%;
    border: 3px solid rgba(255,255,255,.25);
    overflow: hidden;
    background: rgba(255,255,255,.1);
    cursor: pointer;
    transition: border-color .2s, transform .2s;
    display: flex; align-items: center; justify-content: center;
    color: rgba(255,255,255,.55);
    font-family: var(--font-body);
    font-size: 10px;
    text-align: center;
    flex-shrink: 0;
    line-height: 1.3;
    padding: 6px;
}
.profile-photo:hover {
    border-color: rgba(255,255,255,.45);
    transform: scale(1.04);
}

/* header text block */
.header-info { flex:1; color:#fff; min-width:0; }

.name {
    font-size   : var(--sz-name);
    font-weight : var(--w-bold);
    letter-spacing: -0.3px;
    margin-bottom : 2px;
    min-height  : 34px;
    color       : #fff;
}
.job-title {
    font-size   : var(--sz-job-title);
    font-weight : var(--w-reg);
    color       : rgba(255,255,255,.85);
    margin-bottom: 6px;
    min-height  : 18px;
}

/* ‚îÄ‚îÄ contact row ‚îÄ‚îÄ */
.contact-row {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}
/*
  Each contact-item is a flex row.
  The delete btn is positioned absolute inside it.
  We give enough padding-right so text never slides under the btn.
*/
.contact-item {
    display   : flex;
    align-items: center;
    gap       : 5px;
    color     : rgba(255,255,255,.82);
    font-family: var(--font-body);
    font-size : var(--sz-contact);
    font-weight: var(--w-reg);
    position  : relative;
    padding-right: calc(var(--del-btn-w) + 4px);
}
.contact-item i { font-size:13px; flex-shrink:0; }
.contact-item > span { min-width:0; word-break:break-all; }

/* ================================================================
   CV BODY
   ================================================================ */
.cv-body { display:flex; }

/* ================================================================
   SIDEBAR
   ================================================================ */
.cv-sidebar {
    width     : 260px;
    background: var(--clr-bg-light);
    padding   : 16px 13px;
    border-right: 1px solid var(--clr-border);
    flex-shrink: 0;
}
.sidebar-section {
    margin-bottom: 14px;
    position     : relative;
    padding-top  : 8px;
}

/* sidebar heading */
.section-title {
    font-family   : var(--font-heading);
    font-size     : var(--sz-side-title);
    font-weight   : var(--w-semi);
    color         : var(--clr-primary);
    text-transform: uppercase;
    letter-spacing: 0.7px;
    margin-bottom : 8px;
    padding-bottom: 5px;
    border-bottom : 2px solid var(--clr-primary);
    cursor        : text;
    /* leave room so section-delete-btn doesn't overlap */
    padding-right : calc(var(--del-btn-w) + 4px);
}

/* ‚îÄ‚îÄ skill item ‚îÄ‚îÄ
   Container is position:relative.
   Child .skill-name gets padding-right = button width so text doesn't hide behind btn.
*/
.skill-item {
    position: relative;
    margin-bottom: 6px;
}
.skill-name {
    font-family : var(--font-body);
    font-size   : var(--sz-skill);
    font-weight : var(--w-med);
    color       : var(--clr-text-dark);
    min-height  : 16px;
    padding-right: calc(var(--del-btn-w) + 4px);
}

/* ‚îÄ‚îÄ info items (languages, certs ‚Ä¶) ‚îÄ‚îÄ
   Same pattern: wrapper is relative, child text gets padding-right.
*/
.info-item-wrapper {
    position      : relative;
    margin-bottom : 5px;
}
.info-item {
    font-family   : var(--font-body);
    font-size     : var(--sz-info);
    font-weight   : var(--w-reg);
    color         : var(--clr-text-dark);
    line-height   : 1.4;
    min-height    : 16px;
    padding-right : calc(var(--del-btn-w) + 4px);
}

/* ================================================================
   MAIN CONTENT
   ================================================================ */
.cv-main {
    flex   : 1;
    padding: 16px 20px;
    min-width: 0;
}
.main-section {
    margin-bottom: 14px;
    position     : relative;
    padding-top  : 8px;
}

/* main section heading */
.main-section-title {
    font-family   : var(--font-heading);
    font-size     : var(--sz-main-title);
    font-weight   : var(--w-bold);
    color         : var(--clr-primary);
    text-transform: uppercase;
    letter-spacing: 0.7px;
    margin-bottom : 8px;
    padding-bottom: 6px;
    border-bottom : 2px solid var(--clr-primary);
    position      : relative;
    cursor        : text;
    padding-right : calc(var(--del-btn-w) + 4px);
}
.main-section-title::after {
    content   : '';
    position  : absolute;
    bottom:-2px; left:0;
    width:50px; height:2px;
    background: var(--clr-accent-lt);
}

/* professional summary */
.about-text {
    font-family : var(--font-body);
    font-size   : var(--sz-about);
    font-weight : var(--w-reg);
    color       : var(--clr-text);
    line-height : 1.55;
    text-align  : justify;
    min-height  : 28px;
}

/* ================================================================
   TIMELINE
   ================================================================ */
.timeline-item {
    position      : relative;
    padding-left  : 18px;
    margin-bottom : 12px;
    border-left   : 2px solid var(--clr-border);
    /*
      All inner text/lists must NOT extend under the top-right delete btn.
      We add padding-right here so the entire content block stays clear.
    */
    padding-right : calc(var(--del-btn-w) + 4px);
}
.timeline-item::before {
    content  : '';
    position : absolute;
    left:-5px; top:5px;
    width:8px; height:8px;
    background: var(--clr-accent);
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 0 0 2px var(--clr-border);
}

/* date */
.timeline-date {
    font-family : var(--font-body);
    font-size   : var(--sz-tl-date);
    font-weight : var(--w-semi);
    color       : var(--clr-accent);
    margin-bottom: 2px;
    display     : inline-block;
    min-height  : 15px;
}
/* title */
.timeline-title {
    font-family : var(--font-heading);
    font-size   : var(--sz-tl-title);
    font-weight : var(--w-semi);
    color       : var(--clr-text-dark);
    margin-bottom: 2px;
    min-height  : 18px;
}
/* subtitle */
.timeline-subtitle {
    font-family : var(--font-body);
    font-size   : var(--sz-tl-sub);
    font-weight : var(--w-reg);
    color       : var(--clr-muted);
    font-style  : italic;
    margin-bottom: 5px;
    min-height  : 16px;
}

/* ‚îÄ‚îÄ bullet-list description ‚îÄ‚îÄ */
.desc-list { list-style:none; padding:0; margin:0; }

.desc-bullet {
    display       : flex;
    align-items   : flex-start;
    gap           : 5px;
    position      : relative;
    margin-bottom : 3px;
    /* room for the two tiny action buttons on the right */
    padding-right : 48px;
}
.desc-bullet::before {
    content     : '';
    color       : var(--clr-accent);
    font-weight : var(--w-bold);
    flex-shrink : 0;
    line-height : 1.5;
}
.desc-bullet-text {
    font-family : var(--font-body);
    font-size   : var(--sz-tl-desc);
    font-weight : var(--w-reg);
    color       : var(--clr-text);
    line-height : 1.45;
    flex        : 1;
    min-width   : 0;
    min-height  : 16px;
}

/* bullet hover buttons */
.bullet-actions {
    position: absolute;
    right:0; top:0;
    display: none;
    gap: 3px;
    align-items: center;
}
.desc-bullet:hover .bullet-actions { display:flex; }

.bullet-btn {
    width:20px; height:20px;
    border:none; border-radius:4px;
    cursor:pointer;
    font-size:12px;
    display:flex; align-items:center; justify-content:center;
    color:#fff;
    transition: background .15s;
}
.bullet-btn.btn-del      { background: rgba(220,53,69,.7); }
.bullet-btn.btn-del:hover { background: #dc3545; }
.bullet-btn.btn-add      { background: rgba(74,88,153,.65); }
.bullet-btn.btn-add:hover { background: var(--clr-accent); }

/* "+ Add bullet" */
.add-bullet-row { margin-top:5px; }
.add-bullet-btn {
    width:100%; padding:4px 0;
    background:transparent;
    border: 1.5px dashed var(--clr-border);
    border-radius:5px;
    color: var(--clr-muted);
    font-family: var(--font-body);
    font-size:11px; font-weight: var(--w-med);
    cursor:pointer;
    transition: border-color .2s, color .2s;
}
.add-bullet-btn:hover {
    border-color: var(--clr-accent);
    color: var(--clr-accent);
    border-style: solid;
}

/* ================================================================
   SHARED CONTROLS: delete buttons, add-item, add-section
   ================================================================ */

/*
  .delete-btn  ‚Äî the round √ó that appears on hover for individual items.
  It is always position:absolute inside a position:relative parent.
  Visibility is toggled via the parent's :hover.
*/
.delete-btn {
    position  : absolute;
    right     : 0;
    top       : 50%;
    transform : translateY(-50%);
    background: rgba(220,53,69,.75);
    color:#fff; border:none;
    border-radius:50%;
    width:20px; height:20px;
    font-size:13px; line-height:1;
    cursor:pointer;
    display:none;                          /* hidden by default */
    align-items:center; justify-content:center;
    transition: background .15s;
    z-index:5;
}
/* show on parent hover */
.contact-item:hover        > .delete-btn,
.skill-item:hover          > .delete-btn,
.info-item-wrapper:hover   > .delete-btn,
.timeline-item:hover       > .delete-btn {
    display:flex;
}
.delete-btn:hover { background:#dc3545; }

/* section-level delete (top-right corner of the section) */
.section-delete-btn {
    position  : absolute;
    right:0; top:0;
    background: rgba(220,53,69,.75);
    color:#fff; border:none;
    border-radius: 4px;
    padding: 2px 7px;
    font-size:10px; font-weight:600;
    cursor:pointer;
    display:none;
    transition: background .15s;
    z-index:10;
    white-space: nowrap;
}
.sidebar-section:hover > .section-delete-btn,
.main-section:hover    > .section-delete-btn {
    display:block;
}
.section-delete-btn:hover { background:#dc3545; }

/* "+ Add ‚Ä¶" dashed button */
.add-item-btn {
    width:100%; padding:5px;
    background:transparent;
    border: 2px dashed var(--clr-border);
    border-radius:6px;
    color: var(--clr-muted);
    font-family: var(--font-body);
    font-size:11px; font-weight: var(--w-med);
    cursor:pointer;
    margin-top:7px;
    transition: border-color .2s, color .2s;
}
.add-item-btn:hover {
    border-color: var(--clr-accent);
    color: var(--clr-accent);
    border-style:solid;
}

/* green "+ Add Section" */
.add-section-btn {
    width:100%; padding:9px;
    background: linear-gradient(135deg,#28a745,#20c997);
    border:none; border-radius:6px;
    color:#fff;
    font-family: var(--font-body);
    font-size:12px; font-weight: var(--w-semi);
    cursor:pointer;
    margin-top:8px;
    transition: transform .2s, box-shadow .2s;
}
.add-section-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 16px rgba(40,167,69,.3);
}

/* ================================================================
   CONTENTEDITABLE
   ================================================================ */
[contenteditable="true"] {
    outline:none;
    border-radius:3px;
    cursor:text;
    transition: background .15s;
}
[contenteditable="true"]:hover { background: rgba(74,88,153,.05); }
[contenteditable="true"]:focus { background: rgba(74,88,153,.09); }
[contenteditable="true"]:empty:before {
    content: attr(data-placeholder);
    color: #adb5bd;
    font-style:italic;
}

/* ================================================================
   CONTROL PANEL (fixed sidebar on the right)
   ================================================================ */
.control-panel {
    position : fixed;
    top:18px; right:18px;
    background:#fff;
    border-radius:12px;
    box-shadow: 0 10px 36px rgba(0,0,0,.14);
    padding:20px;
    width:320px;
    max-height:90vh;
    overflow-y:auto;
    z-index:1000;
    border: 1px solid var(--clr-border);
}
.panel-header {
    font-family: var(--font-heading);
    font-size:17px;
    font-weight: var(--w-semi);
    color: var(--clr-primary);
    margin-bottom:18px;
    padding-bottom:14px;
    border-bottom: 2px solid var(--clr-border);
    display:flex; align-items:center; gap:8px;
}
.panel-section { margin-bottom:16px; }
.panel-label {
    font-family: var(--font-body);
    font-size:11px;
    font-weight: var(--w-semi);
    color: var(--clr-muted);
    text-transform:uppercase;
    letter-spacing:0.5px;
    margin-bottom:7px;
}
.panel-select {
    width:100%; padding:9px 11px;
    border: 1px solid var(--clr-border);
    border-radius:6px;
    background:#fff;
    color: var(--clr-text);
    font-family: var(--font-body);
    font-size:13px;
    cursor:pointer;
    transition: border-color .2s;
}
.panel-select:hover  { border-color: var(--clr-accent); }
.panel-select:focus  { outline:none; border-color: var(--clr-accent); box-shadow: 0 0 0 3px rgba(74,88,153,.1); }

.color-picker-wrapper {
    display:flex; gap:10px; align-items:center;
}
.color-picker-wrapper input[type="color"] {
    width:44px; height:36px;
    border: 1px solid var(--clr-border);
    border-radius:6px;
    cursor:pointer;
    padding:2px;
}
.color-picker-wrapper label {
    flex:1;
    font-family: var(--font-body);
    font-size:13px;
    color: var(--clr-text);
}

.range-control { display:flex; align-items:center; gap:10px; }
.range-control input[type="range"] {
    flex:1; height:6px;
    border-radius:3px;
    background: var(--clr-border);
    outline:none; cursor:pointer;
    -webkit-appearance:none;
}
.range-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance:none;
    width:17px; height:17px;
    background: var(--clr-accent);
    border-radius:50%;
    border:2px solid #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,.2);
    cursor:pointer;
}
.range-control input[type="range"]::-moz-range-thumb {
    width:17px; height:17px;
    background: var(--clr-accent);
    border-radius:50%;
    border:2px solid #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,.2);
    cursor:pointer;
}
.range-value {
    font-family: var(--font-body);
    font-size:12px;
    font-weight: var(--w-semi);
    color: var(--clr-accent);
    min-width:46px;
    text-align:right;
}

.btn-group {
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
    margin-top:18px;
}
.control-btn {
    padding:11px 16px;
    border:none; border-radius:8px;
    font-family: var(--font-body);
    font-size:13px; font-weight: var(--w-semi);
    cursor:pointer;
    display:flex; align-items:center; justify-content:center; gap:7px;
    transition: transform .2s, box-shadow .2s;
}
.btn-primary {
    background: linear-gradient(135deg, var(--clr-accent), var(--clr-accent-lt));
    color:#fff;
}
.btn-primary:hover { transform:translateY(-2px); box-shadow: 0 5px 18px rgba(74,88,153,.3); }
.btn-secondary {
    background: var(--clr-bg-light);
    color: var(--clr-text);
    border: 1px solid var(--clr-border);
}
.btn-secondary:hover { background: var(--clr-border); }

.divider { height:1px; background: var(--clr-border); margin:16px 0; }

/* ================================================================
   PRINT
   ================================================================ */
@media print {
    body { background:#fff; padding:0; margin:0; }
    .cv-wrapper { box-shadow:none; max-width:100%; margin:0; }
    .control-panel { display:none !important; }
    .add-item-btn, .add-section-btn, .add-bullet-btn,
    .add-bullet-row, .delete-btn, .section-delete-btn,
    .bullet-actions { display:none !important; }
    .timeline-item { page-break-inside:avoid; }

    .cv-header { padding:10px 12px; }
    .profile-photo { width:78px; height:78px; }
    .name { font-size:24px; }
    .job-title { font-size:12px; }
    .contact-item { font-size:10.5px; }

    .cv-sidebar { padding:12px 10px; width:230px; }
    .section-title { font-size:11px; }
    .skill-name, .info-item { font-size:10.5px; }

    .cv-main { padding:12px 16px; }
    .main-section-title { font-size:14px; }
    .about-text { font-size:10.5px; }
    .timeline-date { font-size:10px; }
    .timeline-title { font-size:12.5px; }
    .timeline-subtitle { font-size:10.5px; }
    .desc-bullet-text { font-size:10.5px; }

    /* remove padding-right used only for delete buttons */
    .contact-item, .skill-name, .info-item,
    .timeline-item, .section-title, .main-section-title,
    .desc-bullet { padding-right:0 !important; }
}
.btn_hinden_optimize{
    height: 50px;
    width: 200px;
    color: white;
    background-color: blueviolet;
    border-radius: 12px;
    margin: 50px;
}
</style>
</head>
<body>
<!-- ============================================================
     CONTROL PANEL
     ============================================================ -->
<div class="control-panel">
    <button class="control-btn" onclick="toggleControlPanel()">T·∫Øt thanh c√¥ng c·ª•</button>
    <div class="panel-header">‚öôÔ∏è Customize CV</div>
    <!-- backgrounds -->
    <div class="panel-section">
        <div class="panel-label">Page Background</div>
        <div class="color-picker-wrapper">
            <input type="color" id="pageBackgroundPicker" value="#f8f9fa">
            <label>Page</label>
        </div>
    </div>
    <div class="panel-section">
        <div class="panel-label">CV Background</div>
        <div class="color-picker-wrapper">
            <input type="color" id="cvBackgroundPicker" value="#ffffff">
            <label>CV</label>
        </div>
    </div>
    <div class="panel-section">
        <div class="panel-label">Header Background</div>
        <div class="color-picker-wrapper">
            <input type="color" id="headerBackgroundPicker" value="#2d3561">
            <label>Header</label>
        </div>
    </div>
    <div class="panel-section">
        <div class="panel-label">Sidebar Background</div>
        <div class="color-picker-wrapper">
            <input type="color" id="sidebarBackgroundPicker" value="#f8f9fa">
            <label>Sidebar</label>
        </div>
    </div>

    <div class="divider"></div>

    <!-- layout -->
    <div class="panel-section">
        <div class="panel-label">Sidebar Width</div>
        <div class="range-control">
            <input type="range" id="sidebarWidthRange" min="180" max="370" value="260">
            <span class="range-value"><span id="sidebarWidthDisplay">260</span>px</span>
        </div>
    </div>

    <!--
      FONT FAMILY SELECTOR
      Each option stores TWO values: heading-font | body-font
      The JS splits on the pipe and sets both CSS variables.
      All fonts listed here support Vietnamese.
    -->
    <div class="panel-section">
        <div class="panel-label">Font Family</div>
        <select class="panel-select" id="fontFamilySelector">
            <option value="'Outfit','Nunito Sans'" selected>Outfit + Nunito Sans (Default)</option>
            <option value="'Plus Jakarta Sans','Plus Jakarta Sans'">Plus Jakarta Sans</option>
            <option value="'DM Sans','DM Sans'">DM Sans</option>
            <option value="'Sora','Sora'">Sora</option>
            <option value="'Playfair Display','Nunito Sans'">Playfair Display + Nunito Sans</option>
            <option value="'Cormorant Garamond','Nunito Sans'">Cormorant Garamond + Nunito Sans</option>
            <option value="'Libre Baskerville','Nunito Sans'">Libre Baskerville + Nunito Sans</option>
        </select>
    </div>

    <div class="panel-section">
        <div class="panel-label">Global Font Size</div>
        <div class="range-control">
            <input type="range" id="globalFontSizeRange" min="80" max="120" value="100">
            <span class="range-value"><span id="globalFontSizeDisplay">100</span>%</span>
        </div>
    </div>

    <div class="divider"></div>

    <!-- per-element styling -->
    <div class="panel-section">
        <div class="panel-label">Select Element</div>
        <select class="panel-select" id="elementSelector">
            <option value="name">Name</option>
            <option value="job-title">Job Title</option>
            <option value="contact-item">Contact Info</option>
            <option value="section-title">Sidebar Titles</option>
            <option value="main-section-title">Main Section Titles</option>
            <option value="timeline-title">Exp / Edu Titles</option>
            <option value="timeline-subtitle">Company / School</option>
            <option value="timeline-date">Dates</option>
            <option value="about-text">Summary Text</option>
            <option value="desc-bullet-text">Description Bullets</option>
            <option value="skill-name">Skill Names</option>
            <option value="info-item">Info Items</option>
        </select>
    </div>
    <div class="panel-section">
        <div class="panel-label">Text Color</div>
        <div class="color-picker-wrapper">
            <input type="color" id="textColorPicker" value="#495057">
            <label>Color</label>
        </div>
    </div>
    <div class="panel-section">
        <div class="panel-label">Font Size</div>
        <div class="range-control">
            <input type="range" id="fontSizeRange" min="8" max="48" value="12">
            <span class="range-value"><span id="fontSizeDisplay">12</span>px</span>
        </div>
    </div>
    <div class="panel-section">
        <div class="panel-label">Font Weight</div>
        <div class="range-control">
            <input type="range" id="fontWeightRange" min="300" max="700" step="100" value="400">
            <span class="range-value" id="fontWeightDisplay">400</span>
        </div>
    </div>

    <div class="divider"></div>

    <div class="btn-group">
        <button class="control-btn btn-primary"   onclick="printCV()">üñ®Ô∏è Print</button>
        <button class="control-btn btn-secondary" onclick="toggleLanguage()">üåê EN / VI</button>
    </div>
</div>

<!-- ============================================================
     CV
     ============================================================ -->
<div class="cv-wrapper">

    <!-- Header -->
    <div class="cv-header">
        <div class="header-content">
            <div class="profile-photo" onclick="uploadPhoto(this)">
                <span>Click to<br>add photo</span>
            </div>
            <div class="header-info">
                <h1 class="name" contenteditable="true" data-placeholder="Your Full Name"></h1>
                <p class="job-title" contenteditable="true" data-placeholder="Your Job Title"></p>
                <div class="contact-row" id="contactContainer">
                    <div class="contact-item">
                        <i class="bi bi-envelope"></i>
                        <span contenteditable="true" data-placeholder="email@example.com"></span>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                    <div class="contact-item">
                        <i class="bi bi-phone"></i>
                        <span contenteditable="true" data-placeholder="+1 234 567 890"></span>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                    <div class="contact-item">
                        <i class="bi bi-geo-alt"></i>
                        <span contenteditable="true" data-placeholder="City, Country"></span>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                    <div class="contact-item">
                        <i class="bi bi-github"></i>
                        <span contenteditable="true" data-placeholder="your github"></span>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                </div>
                <button class="add-item-btn" style="margin-top:6px;" onclick="addContact()">+ Add Contact</button>
            </div>
        </div>
    </div>

    <!-- Body -->
    <div class="cv-body">

        <!-- Sidebar -->
        <aside class="cv-sidebar" id="sidebar">

            <div class="sidebar-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h3 class="section-title" contenteditable="true" data-lang-en="Skills" data-lang-vi="K·ªπ NƒÉng">Skills</h3>
                <div id="skillsContainer">
                    <div class="skill-item">
                        <div class="skill-name" contenteditable="true" data-placeholder="Skill name"></div>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                </div>
                <button class="add-item-btn" onclick="addSkill()">+ Add Skill</button>
            </div>

            <div class="sidebar-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h3 class="section-title" contenteditable="true" data-lang-en="Languages" data-lang-vi="Ng√¥n Ng·ªØ">Languages</h3>
                <div id="languagesContainer">
                    <div class="info-item-wrapper">
                        <div class="info-item" contenteditable="true" data-placeholder="e.g. Vietnamese ‚Äì Native"></div>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                </div>
                <button class="add-item-btn" onclick="addSimpleItem('languagesContainer','e.g. English ‚Äì Fluent')">+ Add Language</button>
            </div>

            <div class="sidebar-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h3 class="section-title" contenteditable="true" data-lang-en="Certifications" data-lang-vi="Ch·ª©ng Ch·ªâ">Certifications</h3>
                <div id="certificationsContainer">
                    <div class="info-item-wrapper">
                        <div class="info-item" contenteditable="true" data-placeholder="Certification name"></div>
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                    </div>
                </div>
                <button class="add-item-btn" onclick="addSimpleItem('certificationsContainer','Certification name')">+ Add Certification</button>
            </div>

            <button class="add-section-btn" onclick="addSidebarSection()">+ Add Sidebar Section</button>
        </aside>

        <!-- Main -->
        <main class="cv-main" id="mainContent">

            <!-- Professional Summary -->
            <section class="main-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h2 class="main-section-title" contenteditable="true" data-lang-en="Professional Summary" data-lang-vi="T√≥m T·∫Øt Chuy√™n M√¥n">Professional Summary</h2>
                <p class="about-text" contenteditable="true" data-placeholder="Write a brief summary about yourself, your career goals, and what makes you unique‚Ä¶"></p>
            </section>

            <!-- Work Experience -->
            <section class="main-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h2 class="main-section-title" contenteditable="true" data-lang-en="Work Experience" data-lang-vi="Kinh Nghi·ªám L√†m Vi·ªác">Work Experience</h2>
                <div id="experienceContainer">
                    <div class="timeline-item">
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                        <div  class="timeline-date"     contenteditable="true" data-placeholder="Jan 2020 ‚Äì Present"></div>
                        <h3   class="timeline-title"    contenteditable="true" data-placeholder="Job Title"></h3>
                        <p    class="timeline-subtitle" contenteditable="true" data-placeholder="Company Name, Location"></p>
                        <ul class="desc-list">
                            <li class="desc-bullet">
                                <div class="desc-bullet-text" contenteditable="true" data-placeholder="Describe a responsibility or achievement‚Ä¶"></div>
                                <div class="bullet-actions">
                                    <button class="bullet-btn btn-add" onclick="addBulletAfter(this)" title="Add row below">+</button>
                                    <button class="bullet-btn btn-del" onclick="deleteBullet(this)" title="Remove row">√ó</button>
                                </div>
                            </li>
                        </ul>
                        <div class="add-bullet-row">
                            <button class="add-bullet-btn" onclick="addBulletToList(this)">+ Add bullet</button>
                        </div>
                    </div>
                </div>
                <button class="add-item-btn" onclick="addExperience()">+ Add Experience</button>
            </section>

            <!-- Education -->
            <section class="main-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h2 class="main-section-title" contenteditable="true" data-lang-en="Education" data-lang-vi="H·ªçc V·∫•n">Education</h2>
                <div id="educationContainer">
                    <div class="timeline-item">
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                        <div  class="timeline-date"     contenteditable="true" data-placeholder="2016 ‚Äì 2020"></div>
                        <h3   class="timeline-title"    contenteditable="true" data-placeholder="Degree Name"></h3>
                        <p    class="timeline-subtitle" contenteditable="true" data-placeholder="University Name, Location"></p>
                        <ul class="desc-list">
                            <li class="desc-bullet">
                                <div class="desc-bullet-text" contenteditable="true" data-placeholder="Coursework, achievements, GPA‚Ä¶"></div>
                                <div class="bullet-actions">
                                    <button class="bullet-btn btn-add" onclick="addBulletAfter(this)" title="Add row below">+</button>
                                    <button class="bullet-btn btn-del" onclick="deleteBullet(this)" title="Remove row">√ó</button>
                                </div>
                            </li>
                        </ul>
                        <div class="add-bullet-row">
                            <button class="add-bullet-btn" onclick="addBulletToList(this)">+ Add bullet</button>
                        </div>
                    </div>
                </div>
                <button class="add-item-btn" onclick="addEducation()">+ Add Education</button>
            </section>

            <!-- Projects -->
            <section class="main-section">
                <button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>
                <h2 class="main-section-title" contenteditable="true" data-lang-en="Projects" data-lang-vi="D·ª± √Ån">Projects</h2>
                <div id="projectsContainer">
                    <div class="timeline-item">
                        <button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>
                        <div  class="timeline-date"  contenteditable="true" data-placeholder="2023"></div>
                        <h3   class="timeline-title" contenteditable="true" data-placeholder="Project Name"></h3>
                        <ul class="desc-list">
                            <li class="desc-bullet">
                                <div class="desc-bullet-text" contenteditable="true" data-placeholder="Project details, tech stack, your role‚Ä¶"></div>
                                <div class="bullet-actions">
                                    <button class="bullet-btn btn-add" onclick="addBulletAfter(this)" title="Add row below">+</button>
                                    <button class="bullet-btn btn-del" onclick="deleteBullet(this)" title="Remove row">√ó</button>
                                </div>
                            </li>
                        </ul>
                        <div class="add-bullet-row">
                            <button class="add-bullet-btn" onclick="addBulletToList(this)">+ Add bullet</button>
                        </div>
                    </div>
                </div>
                <button class="add-item-btn" onclick="addProject()">+ Add Project</button>
            </section>

            <button class="add-section-btn" onclick="addMainSection()">+ Add Main Section</button>
        </main>
    </div>
</div>

<!-- ============================================================
     JS
     ============================================================ -->
<script>
// ‚îÄ‚îÄ utility: set a CSS variable on :root ‚îÄ‚îÄ
function setCssVar(name, value) {
    document.documentElement.style.setProperty(name, value);
}

/* ============================================================
   FONT FAMILY SELECTOR
   Option value format: "headingFont,bodyFont"  (comma-separated)
   We set both --font-heading and --font-body so every element
   that references those variables updates instantly ‚Äî including
   the header.
   ============================================================ */
document.getElementById('fontFamilySelector').addEventListener('change', function() {
    const parts = this.value.split(',');
    setCssVar('--font-heading', parts[0].trim());
    setCssVar('--font-body',    (parts[1] || parts[0]).trim());
});

/* ============================================================
   GLOBAL FONT SIZE (percentage scale on wrapper)
   ============================================================ */
document.getElementById('globalFontSizeRange').addEventListener('input', function() {
    document.getElementById('globalFontSizeDisplay').textContent = this.value;
    document.querySelector('.cv-wrapper').style.fontSize = this.value + '%';
});

/* ============================================================
   BACKGROUND COLOUR PICKERS
   ============================================================ */
document.getElementById('pageBackgroundPicker').addEventListener('input', function() {
    document.body.style.background = this.value;
});
document.getElementById('cvBackgroundPicker').addEventListener('input', function() {
    document.querySelector('.cv-wrapper').style.background = this.value;
});
document.getElementById('headerBackgroundPicker').addEventListener('input', function() {
    document.querySelector('.cv-header').style.background = this.value;
});
document.getElementById('sidebarBackgroundPicker').addEventListener('input', function() {
    document.querySelector('.cv-sidebar').style.background = this.value;
});

/* ============================================================
   SIDEBAR WIDTH
   ============================================================ */
document.getElementById('sidebarWidthRange').addEventListener('input', function() {
    document.getElementById('sidebarWidthDisplay').textContent = this.value;
    document.querySelector('.cv-sidebar').style.width = this.value + 'px';
});

/* ============================================================
   PER-ELEMENT STYLING (color / size / weight)
   ============================================================ */
const elSelector = document.getElementById('elementSelector');
const txtColor   = document.getElementById('textColorPicker');
const fzRange    = document.getElementById('fontSizeRange');
const fwRange    = document.getElementById('fontWeightRange');
const fzDisplay  = document.getElementById('fontSizeDisplay');
const fwDisplay  = document.getElementById('fontWeightDisplay');

function rgbToHex(rgb) {
    const m = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    if (!m) return '#495057';
    const h = n => ('0' + parseInt(n).toString(16)).slice(-2);
    return '#' + h(m[1]) + h(m[2]) + h(m[3]);
}

/** mirror computed styles of the first matching element into the panel */
function loadStyles() {
    const el = document.querySelector('.' + elSelector.value);
    if (!el) return;
    const cs       = getComputedStyle(el);
    txtColor.value = rgbToHex(cs.color);
    fzRange.value  = parseInt(cs.fontSize);
    fzDisplay.textContent = fzRange.value;
    fwRange.value  = cs.fontWeight;
    fwDisplay.textContent = cs.fontWeight;
}

/** push current panel values onto every element with the selected class */
function applyStyles() {
    document.querySelectorAll('.' + elSelector.value).forEach(el => {
        el.style.color      = txtColor.value;
        el.style.fontSize   = fzRange.value + 'px';
        el.style.fontWeight = fwRange.value;
    });
}

elSelector.addEventListener('change', loadStyles);
txtColor.addEventListener('input',  applyStyles);
fzRange.addEventListener('input',   function(){ fzDisplay.textContent = this.value; applyStyles(); });
fwRange.addEventListener('input',   function(){ fwDisplay.textContent = this.value; applyStyles(); });

/* ============================================================
   BULLET LIST helpers
   ============================================================ */

/** build one <li class="desc-bullet"> */
function createBulletLi(ph) {
    const li = document.createElement('li');
    li.className = 'desc-bullet';
    li.innerHTML =
        '<div class="desc-bullet-text" contenteditable="true" data-placeholder="' + (ph || 'Add a bullet‚Ä¶') + '"></div>' +
        '<div class="bullet-actions">' +
            '<button class="bullet-btn btn-add" onclick="addBulletAfter(this)" title="Add row below">+</button>' +
            '<button class="bullet-btn btn-del" onclick="deleteBullet(this)" title="Remove row">√ó</button>' +
        '</div>';
    return li;
}

/** "+" on a bullet  ‚Üí  insert new bullet after it */
function addBulletAfter(btn) {
    const cur  = btn.closest('.desc-bullet');
    const ul   = cur.parentElement;
    const next = createBulletLi();
    ul.insertBefore(next, cur.nextSibling);
    next.querySelector('.desc-bullet-text').focus();
}

/** "√ó" on a bullet  ‚Üí  remove it (min 1 kept) */
function deleteBullet(btn) {
    const li = btn.closest('.desc-bullet');
    const ul = li.parentElement;
    if (ul.children.length <= 1) return;
    li.remove();
}

/** "+ Add bullet" button below list */
function addBulletToList(btn) {
    const ul = btn.closest('.add-bullet-row').previousElementSibling;
    const li = createBulletLi();
    ul.appendChild(li);
    li.querySelector('.desc-bullet-text').focus();
}

/* ============================================================
   TIMELINE HTML builder  ‚Üí  shared by Experience / Education / Project
   ============================================================ */
function timelineInnerHTML({ date, title, subtitle, descPh, noSub }) {
    const sub = noSub ? '' :
        '<p class="timeline-subtitle" contenteditable="true" data-placeholder="' + (subtitle || 'Company, Location') + '"></p>';
    return (
        '<button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>' +
        '<div  class="timeline-date"  contenteditable="true" data-placeholder="' + (date  || 'Date')  + '"></div>' +
        '<h3   class="timeline-title" contenteditable="true" data-placeholder="' + (title || 'Title') + '"></h3>' +
        sub +
        '<ul class="desc-list">' +
            '<li class="desc-bullet">' +
                '<div class="desc-bullet-text" contenteditable="true" data-placeholder="' + (descPh || 'Description‚Ä¶') + '"></div>' +
                '<div class="bullet-actions">' +
                    '<button class="bullet-btn btn-add" onclick="addBulletAfter(this)" title="Add row below">+</button>' +
                    '<button class="bullet-btn btn-del" onclick="deleteBullet(this)" title="Remove row">√ó</button>' +
                '</div>' +
            '</li>' +
        '</ul>' +
        '<div class="add-bullet-row">' +
            '<button class="add-bullet-btn" onclick="addBulletToList(this)">+ Add bullet</button>' +
        '</div>'
    );
}

/* ‚îÄ‚îÄ add Experience / Education / Project ‚îÄ‚îÄ */
function addExperience() {
    const d = document.createElement('div');
    d.className = 'timeline-item';
    d.innerHTML = timelineInnerHTML({
        date:'Jan 2020 ‚Äì Present', title:'Job Title',
        subtitle:'Company Name, Location',
        descPh:'Describe your responsibilities and achievements‚Ä¶'
    });
    document.getElementById('experienceContainer').appendChild(d);
}
function addEducation() {
    const d = document.createElement('div');
    d.className = 'timeline-item';
    d.innerHTML = timelineInnerHTML({
        date:'2016 ‚Äì 2020', title:'Degree Name',
        subtitle:'University Name, Location',
        descPh:'Coursework, achievements, GPA‚Ä¶'
    });
    document.getElementById('educationContainer').appendChild(d);
}
function addProject() {
    const d = document.createElement('div');
    d.className = 'timeline-item';
    d.innerHTML = timelineInnerHTML({
        date:'2023', title:'Project Name', noSub:true,
        descPh:'Project details, tech stack, your role‚Ä¶'
    });
    document.getElementById('projectsContainer').appendChild(d);
}

/* ============================================================
   SIDEBAR helpers
   ============================================================ */
function addSkill() {
    const d = document.createElement('div');
    d.className = 'skill-item';
    d.innerHTML =
        '<div class="skill-name" contenteditable="true" data-placeholder="Skill name"></div>' +
        '<button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>';
    document.getElementById('skillsContainer').appendChild(d);
}
function addSimpleItem(containerId, ph) {
    const w = document.createElement('div');
    w.className = 'info-item-wrapper';
    w.innerHTML =
        '<div class="info-item" contenteditable="true" data-placeholder="' + ph + '"></div>' +
        '<button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>';
    document.getElementById(containerId).appendChild(w);
}
function addContact() {
    const d = document.createElement('div');
    d.className = 'contact-item';
    d.innerHTML =
        '<i class="bi bi-link-45deg"></i>' +
        '<span contenteditable="true" data-placeholder="Contact info"></span>' +
        '<button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>';
    document.getElementById('contactContainer').appendChild(d);
}
function toggleControlPanel() {
    const panel = document.querySelector('.control-panel');
    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
}
/* ============================================================
   ADD CUSTOM SECTIONS
   ============================================================ */
function addSidebarSection() {
    const sidebar = document.getElementById('sidebar');
    const id = 'sidebar-' + Date.now();
    const s  = document.createElement('div');
    s.className = 'sidebar-section';
    s.innerHTML =
        '<button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>' +
        '<h3 class="section-title" contenteditable="true" data-placeholder="Section Title">New Section</h3>' +
        '<div id="' + id + '">' +
            '<div class="info-item-wrapper">' +
                '<div class="info-item" contenteditable="true" data-placeholder="Add content‚Ä¶"></div>' +
                '<button class="delete-btn" onclick="deleteEl(this.parentElement)">√ó</button>' +
            '</div>' +
        '</div>' +
        '<button class="add-item-btn" onclick="addSimpleItem(\'' + id + '\',\'Add content‚Ä¶\')">+ Add Item</button>';
    sidebar.insertBefore(s, sidebar.lastElementChild);
}

function addMainSection() {
    const main = document.getElementById('mainContent');
    const id   = 'main-' + Date.now();
    const s    = document.createElement('section');
    s.className = 'main-section';
    s.innerHTML =
        '<button class="section-delete-btn" onclick="deleteEl(this.parentElement)">‚úï Delete</button>' +
        '<h2 class="main-section-title" contenteditable="true" data-placeholder="Section Title">New Section</h2>' +
        '<div id="' + id + '">' +
            '<div class="timeline-item">' +
                timelineInnerHTML({ date:'Date', title:'Title', noSub:true, descPh:'Description‚Ä¶' }) +
            '</div>' +
        '</div>' +
        '<button class="add-item-btn" onclick="addCustomTimeline(\'' + id + '\')">+ Add Item</button>';
    main.insertBefore(s, main.lastElementChild);
}

function addCustomTimeline(containerId) {
    const d = document.createElement('div');
    d.className = 'timeline-item';
    d.innerHTML = timelineInnerHTML({ date:'Date', title:'Title', noSub:true, descPh:'Description‚Ä¶' });
    document.getElementById(containerId).appendChild(d);
}

/* ============================================================
   DELETE helper
   ============================================================ */
function deleteEl(el) {
    if (confirm('Delete this item?')) el.remove();
}

/* ============================================================
   PHOTO UPLOAD
   ============================================================ */
function uploadPhoto(el) {
    const inp = document.createElement('input');
    inp.type   = 'file';
    inp.accept = 'image/*';
    inp.onchange = function(e) {
        const file = e.target.files[0];
        if (!file) return;
        const r = new FileReader();
        r.onload = function(ev) {
            el.innerHTML = '';
            el.style.backgroundImage    = 'url(' + ev.target.result + ')';
            el.style.backgroundSize     = 'cover';
            el.style.backgroundPosition = 'center';
        };
        r.readAsDataURL(file);
    };
    inp.click();
}

/* ============================================================
   LANGUAGE TOGGLE EN ‚Üî VI
   ============================================================ */
let lang = 'en';
function toggleLanguage() {
    lang = lang === 'en' ? 'vi' : 'en';
    document.querySelectorAll('[data-lang-en]').forEach(function(el) {
        if (el.classList.contains('section-title') || el.classList.contains('main-section-title')) {
            el.textContent = el.getAttribute('data-lang-' + lang);
        }
    });
}

/* ============================================================
   PRINT
   ============================================================ */
function printCV() { window.print(); }

/* ‚îÄ‚îÄ init ‚îÄ‚îÄ */
loadStyles();
</script>
</body>
</html>